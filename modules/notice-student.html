<!DOCTYPE html>
<html>
<head>
  <title>Hostel Notices</title>
</head>

<body style="margin:0;font-family:Segoe UI,Arial;background:#eef3f9;">

<!-- HEADER -->
<div style="background:#0d47a1;color:white;padding:16px 30px;display:flex;justify-content:space-between;">
  <h3 style="margin:0;">Hostel Notices</h3>
  <a href="javascript:history.back()" style="color:white;text-decoration:none;">‚Üê Back</a>
</div>

<!-- NOTICE LIST -->
<div style="max-width:900px;margin:40px auto;padding:0 20px;" id="noticeList">
  Loading notices...
</div>

<!-- FIREBASE -->
<script type="module">
import { db } from "../src/config.js";
import {
  collection,
  getDocs,
  query,
  orderBy
} from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

const container = document.getElementById("noticeList");
container.innerHTML = "";

const q = query(
  collection(db, "notices"),
  orderBy("createdAt", "desc")
);

const snapshot = await getDocs(q);

if (snapshot.empty) {
  container.innerHTML = "<p>No notices available</p>";
}

snapshot.forEach(doc => {
  const n = doc.data();

  const card = document.createElement("div");
  card.style = `
    background:white;
    padding:25px;
    margin-bottom:20px;
    border-radius:16px;
    box-shadow:0 10px 25px rgba(0,0,0,.1);
  `;

  card.innerHTML = `
    <h3>${n.title}</h3>
    <p style="color:#555;">${n.message}</p>
    <small style="color:#888;">Posted recently</small>
  `;

  container.appendChild(card);
});
</script>

</body>
</html>
